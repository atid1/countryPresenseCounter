generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")  // pooler (good for serverless app runtime)
  directUrl = env("DIRECT_URL")    // direct (for Prisma CLI)
}

model country {
  code  String  @id @db.VarChar(2)
  label String

  trips trip[]
}

/// This table contains check constraints and requires additional setup for migrations. Visit https://pris.ly/d/check-constraints for more info.
/// This model contains row level security and requires additional setup for migrations. Visit https://pris.ly/d/row-level-security for more info.
model trip {
  id           String   @id @default(uuid())
  user_id       String   @db.Uuid
  country_code  String   @db.VarChar(2)
  date_from     DateTime @db.Date
  date_to       DateTime @db.Date
  notes        String?  @db.Text
  created_at    DateTime @default(now())

  country      country  @relation(fields: [country_code], references: [code], onDelete: Restrict)

  @@index([user_id, date_from, date_to])
  @@map("trip") // table name is quoted "trip"
}
